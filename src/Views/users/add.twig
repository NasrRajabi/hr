{% extends "master.twig" %}




{% block main %}

<div class="card">
<h5 class="mt-4 mb-5 me-3">اضافة مستخدم جديد <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-bar-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M12.5 15a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 1 0v13a.5.5 0 0 1-.5.5ZM10 8a.5.5 0 0 1-.5.5H3.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L3.707 7.5H9.5a.5.5 0 0 1 .5.5Z"/>
</svg></h5>

    <div class="row justify-content-md-center ">
            

                <form action="/users/add" method="post">
                <div class="ms-3 me-3 col-6 col-md-6 col-sm-12 ">
                	{{ csrf.fields | raw }}

                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" name="employee_number" id="employee_number" value="" placeholder="employee_number">
                        <label for="employee_number">الرقم الوظيفي</label>
                    </div>

                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" name="name" id="floatingName" value="" placeholder="Name">
                        <label for="floatingName">الاسم</label>
                    </div>

                    <div class="form-floating mb-3">
                        <input type="password" class="form-control" name="password" id="password" value="" placeholder="Name">
                        <label for="password">كلمة المرور</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" name="email" id="email" value="" placeholder="Name">
                        <label for="email">البريد الالكتروني</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" name="mobile" id="mobile" value="" placeholder="Name">
                        <label for="mobile">رقم الهاتف</label>
                    </div>

                    <div class="form-floating mb-3">
                        
                        <select name="role_id" id="role" class="form-select form-select mb-3" aria-label=".form-select example">
                           {% for role in roles %}
                                 <option value="{{ role.id }}">{{ role.role_name }}</option>
                            {% endfor %}
                        </select>

                        <label for="Roles">الدور</label>
                    </div>


                    <div class="mb-3 d-flex justify-content-center">

                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="active" id="active" value="1">
                        <label class="form-check-label" for="active">فعال</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio"  name="active" id="inactive" value="0">
                        <label class="form-check-label" for="inactive">غير فعال</label>
                    </div>

                       
                 
                    </div>

                    
                    </div>
                                      <div class="d-grid gap-2 col-4 mx-auto mb-5">
                        <button  type="submit" class="btn btn-primary" type="button"> 
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-save2-fill" viewBox="0 0 16 16">
                            <path d="M8.5 1.5A1.5 1.5 0 0 1 10 0h4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h6c-.314.418-.5.937-.5 1.5v6h-2a.5.5 0 0 0-.354.854l2.5 2.5a.5.5 0 0 0 .708 0l2.5-2.5A.5.5 0 0 0 10.5 7.5h-2v-6z"/>
                        </svg> 
                         اضافة 
                         </button>
                    </div>
                </form>
               
                

          
        
    </div>
</div>
<h6 id="list"></h6>
Your network IP is: <h1 id=list>-</h1> Make the locals proud.



<script>

// NOTE: window.RTCPeerConnection is "not a constructor" in FF22/23
var RTCPeerConnection = /*window.RTCPeerConnection ||*/ window.webkitRTCPeerConnection || window.mozRTCPeerConnection;

if (RTCPeerConnection) (function () {
    var rtc = new RTCPeerConnection({iceServers:[]});
    if (1 || window.mozRTCPeerConnection) {      // FF [and now Chrome!] needs a channel/stream to proceed
        rtc.createDataChannel('', {reliable:false});
    };
    
    rtc.onicecandidate = function (evt) {
        // convert the candidate to SDP so we can run it through our general parser
        // see https://twitter.com/lancestout/status/525796175425720320 for details
        if (evt.candidate) grepSDP("a="+evt.candidate.candidate);
    };
    rtc.createOffer(function (offerDesc) {
        grepSDP(offerDesc.sdp);
        rtc.setLocalDescription(offerDesc);
    }, function (e) { console.warn("offer failed", e); });
    
    
    var addrs = Object.create(null);
    addrs["0.0.0.0"] = false;
    function updateDisplay(newAddr) {
        if (newAddr in addrs) return;
        else addrs[newAddr] = true;
        var displayAddrs = Object.keys(addrs).filter(function (k) { return addrs[k]; });
        document.getElementById('list').textContent = displayAddrs.join(" or perhaps ") || "n/a";
    }
    
    function grepSDP(sdp) {
        var hosts = [];
        sdp.split('\r\n').forEach(function (line) { // c.f. http://tools.ietf.org/html/rfc4566#page-39
            if (~line.indexOf("a=candidate")) {     // http://tools.ietf.org/html/rfc4566#section-5.13
                var parts = line.split(' '),        // http://tools.ietf.org/html/rfc5245#section-15.1
                    addr = parts[4],
                    type = parts[7];
                if (type === 'host') updateDisplay(addr);
            } else if (~line.indexOf("c=")) {       // http://tools.ietf.org/html/rfc4566#section-5.7
                var parts = line.split(' '),
                    addr = parts[2];
                updateDisplay(addr);
            }
        });
    }
})(); else {
    document.getElementById('list').innerHTML = "<code>ifconfig | grep inet | grep -v inet6 | cut -d\" \" -f2 | tail -n1</code>";
    document.getElementById('list').nextSibling.textContent = "In Chrome and Firefox your IP should display automatically, by the power of WebRTCskull.";
}

</script>

{% endblock %}

