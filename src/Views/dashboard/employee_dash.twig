{% extends "master.twig" %}

{% block style %}
<style>
	/* Define CSS variables for light mode */
	:root {
		--background-color-light: #f5f5f5;
		--background-color-dark: #222;
		--text-color-light: #e9e9e9;
		--text-color-dark: #444;
	}

	/* Switch to dark mode */
	/* @media (prefers-color-scheme: dark) {
      :root {
        --background-color-light: #222;
        --background-color-dark: #f5f5f5;
        --text-color-light: #444;
        --text-color-dark: #e9e9e9;
      }
    } */

	.card-loading {
		opacity: 0.5;
		pointer-events: none;
	}

	.card-loading .card-body {
		background-color: var(--background-color-light);
	}

	.card-loading .card-title,
	.card-loading .card-subtitle,
	.card-loading .card-text,
	.card-loading .card-link {
		height: 100%;
		background-color: var(--text-color-light);
		animation: blink 1s infinite;
	}

	.card-loading .card-title {
		width: 80%;
	}

	.card-loading .card-subtitle {
		width: 40%;
	}

	.card-loading .card-text,
	.card-loading .card-link {
		width: 80%;
	}


	#chartjs-dashboard-pie {
		height: 430px;
	}

	@keyframes blink {
		0% {
			background-color: var(--text-color-light);
		}

		50% {
			background-color: var(--background-color-light);
		}

		100% {
			background-color: var(--text-color-light);
		}
	}

	.table td:hover {
		background-color: #f0f0f0;
		/* Change to your preferred hover background color */
		transition: background-color 0.3s ease;
		/* Add a smooth transition effect */
	}

	.calendar-header {
		display: flex;
		justify-content: space-between;
		align-items: center;


	}

	#calendarHeader {
		background: url('img/photos/10.webp') no-repeat fixed;
		/* background-size: cover; */
	}

	.td-cal {
		padding: 3.8rem !important;
	}

	.card-header {

		border-bottom: none;
	}

	.progress-stacked {
		position: relative;
	}

	.progress-stacked::before {
		content: "";
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
	}

	.progress-stacked .progress {
		position: relative;
		z-index: 1;
	}

	.progress-stacked .progress::before {
		content: "";
		position: absolute;
		top: 50%;
		left: 100%;
		transform: translate(-50%, -50%);
		height: 15px;
		width: 15px;
		background-color: #eeff00;
		border-radius: 50%;
		transition: all 0.3s;
		cursor: pointer;
		box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
		/* Add shadow on hover */
	}

	.tooltip {
		display: none;
		position: absolute;
		background: rgba(0, 0, 0, 0.7);
		color: #fff;
		padding: 5px;
		border-radius: 5px;
		left: 100%;
		top: 50%;
		transform: translate(10px, -50%);
		z-index: 2;
	}

	.progress-stacked .progress:hover::before {
		height: 20px;
		width: 20px;
	}

	.progress-stacked .progress:hover+.tooltip {
		display: block;
		/* Display tooltips on hover */
	}


	.htimeline {
		list-style: none;
		padding: 0;
		margin: 20px 0 0;
	}

	.htimeline .step {
		float: right;
		border-top-style: solid;
		border-top-width: 5px;
		position: relative;
		margin-bottom: 25px;
		text-align: right;
		padding: 3px 0 5px 10px;
		background-color: #ddd;
		color: #333;
		height: 120px;
		vertical-align: middle;
		border-right: solid 1px #bbb;
		transition: all 0.5s ease;
	}

	.htimeline .step:nth-child(odd) {
		background-color: #eee;
	}

	.htimeline .step:first-child {
		border-right: solid 1px #bbb;
	}

	.htimeline .step:hover {
		background-color: #ccc;
		border-bottom-width: 6px;
	}

	.htimeline .step>div {
		margin: 0 5px;
		font-size: 16px;
		vertical-align: top;
		padding: 0;
	}

	.htimeline .step.green {
		border-top-color: #348F50;
	}

	.htimeline .step.orange {
		border-top-color: #F09819;
	}

	.htimeline .step.red {
		border-top-color: #C04848;
	}

	.htimeline .step.blue {
		border-top-color: #49a09d;
	}

	.htimeline .step::before {
		width: 15px;
		height: 15px;
		border-radius: 50px;
		content: ' ';
		background-color: white;
		position: absolute;
		top: -10px;
		right: 0;
		border-style: solid;
		border-width: 3px;
		transition: all 0.5s ease;
	}

	.htimeline .step:hover::before {
		width: 18px;
		height: 18px;
		bottom: -12px;
	}

	.htimeline .step.green::before {
		border-color: #348F50;
	}

	.htimeline .step.orange::before {
		border-color: #F09819;
	}

	.htimeline .step.red::before {
		border-color: #C04848;
	}

	.htimeline .step.blue::before {
		border-color: #49a09d;
	}

	.htimeline .step::after {
		content: attr(data-date);
		position: absolute;
		top: -26px;
		right: 14px;
		font-size: 14px;
		font-weight: 600;
		color: #242424;
		background-color: var(--background-color-light);
	}

	/*TASKS*/
	.htimeline .step .tasks {
		margin-top: 10px;
	}

	.htimeline .step .tasks .resource {
		position: relative;
		height: 40px;
	}

	.htimeline .step .tasks .resource::before {
		position: absolute;
		bottom: 2px;
		right: -5px;
		content: attr(data-name);
		font-size: 10px;
		font-style: italic;
		color: #888
	}

	.htimeline .step .tasks .task {
		overflow: hidden;
		font-size: 14px;
		padding: 3px;
		border: solid 1px white;
		border-radius: 4px;
		min-height: 20px;
	}

	.htimeline .step.green .tasks .task {
		background-color: #348F50;
		color: white;
	}

	.htimeline .step.orange .tasks .task {
		background-color: #F09819;
		color: white;
	}

	.htimeline .step.red .tasks .task {
		background-color: #C04848;
		color: white;
	}

	.htimeline .step.blue .tasks .task {
		background-color: #49a09d;
		color: white;
	}
</style>{% endblock %}{% block main %}


<div class="row mb-3 g-3">
	<div class="col-md-3 col-sm-6 col-xs-12">
		<div class="card" aria-hidden="true">
			<div class="card-body placeholder-glow">
				<div class="row">
					<div class="col">
						<h6 class="card-title placeholder">عدد الاجازات المقدمة</h6>

					</div>

					<div class="col-auto">
						<div class="stat text-primary">
							<i class="align-middle" data-feather="truck"></i>
						</div>
					</div>
				</div>
				<h3 class="mt-1 mb-3 placeholder">20</h3>
				<div class="mb-0">
					<span class="text-danger placeholder">
						<i class="mdi mdi-arrow-bottom-right"></i>
						-3.65%
					</span>
					<span class="text-muted placeholder">خلال سنة 2023</span>
				</div>
			</div>
		</div>
	</div>

	<div class="col-md-3 col-sm-6 col-xs-12">
		<div class="card" aria-hidden="true">
			<div class="card-body placeholder-glow">
				<div class="row">
					<div class="col">
						<h6 class="card-title placeholder">رصيد الاجازات المتبقي</h6>
					</div>

					<div class="col-auto">
						<div class="stat text-primary">
							<i class="align-middle" data-feather="users"></i>
						</div>
					</div>
				</div>
				<h3 class="card-text mt-1 mb-3 placeholder">14</h3>
				<div class="mb-0">
					<span class="text-success placeholder">
						<i class="mdi mdi-arrow-bottom-right"></i>
						5.25%
					</span>
					<span class="card-text text-muted placeholder">خلال سنة 2023</span>
				</div>
			</div>
		</div>
	</div>

	<div class="col-md-3 col-sm-6 col-xs-12">
		<div class="card" aria-hidden="true">
			<div class="card-body placeholder-glow">
				<div class="row">
					<div class="col">
						<h6 class="card-title placeholder">عدد المغادرات المقدمة</h6>
					</div>

					<div class="col-auto">
						<div class="stat text-primary">
							<i class="align-middle" data-feather="dollar-sign"></i>
						</div>
					</div>
				</div>
				<h3 class="card-text mt-1 mb-3 placeholder">50</h3>
				<div class="mb-0">
					<span class="text-success placeholder">
						<i class="mdi mdi-arrow-bottom-right"></i>
						6.65%
					</span>
					<span class="card-text text-muted placeholder">خلال سنة 2023</span>
				</div>
			</div>
		</div>
	</div>

	<div class="col-md-3 col-sm-6 col-xs-12">
		<div class="card" aria-hidden="true">
			<div class="card-body placeholder-glow">
				<div class="row">
					<div class="col">
						<h6 class="card-title placeholder">مجموع ساعات المغادرات
						</h6>
					</div>

					<div class="col-auto">
						<div class="stat text-primary">
							<i class="align-middle" data-feather="shopping-cart"></i>
						</div>
					</div>
				</div>
				<h3 class="mt-1 mb-3 placeholder">20</h1>
					<div class="mb-0">
						<span class="text-danger placeholder">
							<i class="mdi mdi-arrow-bottom-right"></i>
							-2.25%
						</span>
						<span class="text-muted placeholder">خلال سنة 2023</span>
					</div>
			</div>
		</div>
	</div>
</div>
<div class="row mb-3 g-3">
	<div class="col-xl-6 col-xxl-6">
		<div class="card flex-fill w-100">
			<div class="card-header ">
				<h6 class="card-title  mt-1">عدد طلبات المغادرات خلال كل شهر لسنة 2023</h6>
			</div>
			<div class="card-body py-5">
				<div class="chart ">
					<div class="chart-container">
						<canvas id="chartjs-dashboard-line"></canvas>
						<div class="chart-loader" id="line_1">
							<div class="skeleton-loader"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="col-xl-6 col-xxl-6">
		<div class="card flex-fill w-100">
			<div class="card-header">
				<h6 class="card-title mt-1">ساعات المغادرات خلال كل شهر لسنة 2023</h6>
			</div>
			<div class="card-body py-5">
				<div class="align-self-center chart chart-lg">


					<div class="chart-container">
						<canvas id="chartjs-dashboard-bar"></canvas>
						<div class="chart-loader" id="line_2">
							<div class="skeleton-loader"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="row  g-3">

	
	<div class="col-xl-8 col-xxl-8">
		<div class="card ">


			<div class="card-body">
				<div class="calendar-header  rounded-top-5 text-light pe-5 pt-3 pb-3 position-relative"
					id="calendarHeader">

					<div>

						<h1 class="text-dark">{{year}}</h1>
						<h3 class="text-dark">
							شهر
							{{lookups.arabic_months[month]}}
						</h3>

					</div>
					<div>

						<div class="form-group  position-absolute bottom-0 start-0 p-2">
							<label class="form-label text-dark" for="yearMonth">اختر السنة والشهر</label>
							<input type="month" class="form-control" id="yearMonth">
						</div>

					</div>
				</div>

				<div class="table-responsive">
					<table class="table table-bordered  ">
						<tr class="">

							{% for key, item in lookups.days %}
							
							<th class="text-center  border-0 border-end pt-3 pb-3">{{ item }}</th>
					
							{% endfor %}
						</tr>

						{% for week in calendarData %}
						<tr>
							{% for day in week %}

							{% if day.date is not null and day.date|date('j') != today %}
							<td class="">
								<div class=" fw-bold fs-5 position-relative td-cal ">
									<span
										class="badge bg-secondary bg-opacity-25 text-dark  position-absolute top-0 end-0">
										{{ day.date|date('j') }}</span>
										

									<div
										class="position-absolute  top-50 start-50 translate-middle d-flex flex-column p-5">

										<span class="badge bg-success-subtle rounded-0 text-success mb-1 px-3">
											<i class="bi bi-box-arrow-in-left fs-5 p-1"></i>
											8:00
											
										</span>
										<span class="badge  bg-danger-subtle rounded-0 text-danger px-3 ">
											<i class="bi bi-box-arrow-right fs-5 p-1"></i>
											15:00
											{{ data[day.date].dayName }}
										</span>
									</div>
								</div>
							</td>
							{% elseif day.date is not null and day.date|date('j') == today %}
							<td class="bg-primary bg-opacity-25 ">
								<div class=" fw-bold fs-5 position-relative td-cal ">
									<span
										class="badge bg-primary bg-opacity-25 text-dark  position-absolute top-0 end-0">
										{{ day.date|date('j') }}</span>

									<div
										class="position-absolute  top-50 start-50 translate-middle d-flex flex-column p-5">

										<span class="badge bg-success-subtle rounded-0 text-success mb-1 px-3">
											<i class="bi bi-box-arrow-in-left fs-5 p-1"></i>
											8:00
										</span>
										<span class="badge  bg-danger-subtle rounded-0 text-danger px-3 ">
											<i class="bi bi-box-arrow-right fs-5 p-1"></i>
											15:00
											{{ data[day.date].dayName }}
										</span>
									</div>
								</div>
							</td>
							{% else %}
							<td class="">
								
							</td>
							{% endif %}
							{% endfor %}
						</tr>
						{% endfor %}

					</table>
				</div>

			</div>


		</div>
	</div>

	<div class="col-xl-4 col-xxl-4">
		<div class="row">
			<div class="col-md-12 col-sm-12 col-xs-12">
				<div class="card flex-fill w-200 mb-3">
					<div class="card-header">

						<h6 class="card-title mt-1">ارصدة الاجازات المستنفذة + المتبقية خلال سنة 2023</h6>
					</div>
					<div class="card-body d-flex">
						<div class="align-self-center w-100">
							<div class="py-3">
								<div class="chart chart-xs">
									<canvas id="chartjs-dashboard-pie"></canvas>
								</div>
							</div>

							<table class="table mb-0">
								<tbody>
									<tr>
										<td>مستنفذة</td>
										<td class="text-end">20</td>
									</tr>
									<tr>
										<td>متبقية</td>
										<td class="text-end">10</td>
									</tr>

								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
			<div class="col-md-6 col-sm-6 col-xs-12">
				<div class="card mb-3" aria-hidden="true">
					<div class="card-body placeholder-glow">
						<div class="row">
							<div class="col">
								<h6 class="card-title placeholder">عدد ساعات التأخير</h6>
							</div>

							<div class="col-auto">
								<div class="stat text-primary">
									<i class="align-middle" data-feather="truck"></i>
								</div>
							</div>
						</div>
						<h3 class="mt-1 mb-3 placeholder">8</h3>
						<div class="mb-0">
							<span class="text-danger placeholder">
								<i class="mdi mdi-arrow-bottom-right"></i>
								-3.65%
							</span>
							<span class="text-muted placeholder">خلال سنة 2023</span>
						</div>
					</div>
				</div>
			</div>
			<div class="col-md-6 col-sm-6 col-xs-12">
				<div class="card mb-3" aria-hidden="true">
					<div class="card-body placeholder-glow">
						<div class="row">
							<div class="col">
								<h6 class="card-title placeholder">عدد الايام المستنفذة كمهام عمل</h6>
							</div>

							<div class="col-auto">
								<div class="stat text-primary">
									<i class="align-middle" data-feather="users"></i>
								</div>
							</div>
						</div>
						<h3 class="mt-1 mb-3 placeholder">14</h3>
						<div class="mb-0">
							<span class="text-success placeholder">
								<i class="mdi mdi-arrow-bottom-right"></i>
								5.25%
							</span>
							<span class="text-muted placeholder">خلال سنة 2023</span>
						</div>
					</div>
				</div>
			</div>

			<div class="col-md-6 col-sm-6 col-xs-12">
				<div class="card mb-3" aria-hidden="true">
					<div class="card-body placeholder-glow">
						<div class="row">
							<div class="col">
								<h6 class="card-title placeholder">عدد مهام العمل المقدمة</h6>
							</div>

							<div class="col-auto">
								<div class="stat text-primary">
									<i class="align-middle" data-feather="dollar-sign"></i>
								</div>
							</div>
						</div>
						<h3 class="mt-1 mb-3 placeholder">50</h3>
						<div class="mb-0">
							<span class="text-success placeholder">
								<i class="mdi mdi-arrow-bottom-right"></i>
								6.65%
							</span>
							<span class="text-muted placeholder">خلال سنة 2023</span>
						</div>
					</div>
				</div>
			</div>

			<div class="col-md-6 col-sm-6 col-xs-12">
				<div class="card mb-3" aria-hidden="true">
					<div class="card-body placeholder-glow">
						<div class="row">
							<div class="col">
								<h6 class="card-title placeholder">عدد ايام الغياب
								</h6>
							</div>

							<div class="col-auto">
								<div class="stat text-primary">
									<i class="align-middle" data-feather="shopping-cart"></i>
								</div>
							</div>
						</div>
						<h3 class="mt-1 mb-3 placeholder">0</h1>
							<div class="mb-0">
								<span class="text-danger placeholder">
									<i class="mdi mdi-arrow-bottom-right"></i>
									-2.25%
								</span>
								<span class="text-muted placeholder">خلال سنة 2023</span>
							</div>
					</div>
				</div>
				<!-- Additional cards content here -->
			</div>
		</div>
	</div>
</div>
<div class="row  g-3">
	<div class="col-xl-6 col-xxl-6">

		<div class="card flex-fill w-100">
			<div class="card-header ">
				<h6 class="card-title  mt-1">
					ساعات التأخير خلال كل شهر لسنة 2023</h6>
			</div>
			<div class="card-body py-5">
				<div class="chart ">
					<div class="chart-container">
						<canvas id="chartjs-dashboard-line2"></canvas>
						<div class="chart-loader" id="bar_1">
							<div class="skeleton-loader"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="col-xl-6 col-xxl-6">
		<div class="card flex-fill w-100">
			<div class="card-header">
				<h6 class="card-title mt-1">عدد الأيام المستنفذة كمهام عمل خلال كل شهر لسنة 2023</h6>
			</div>
			<div class="card-body py-5">
				<div class="align-self-center chart chart-lg">

					<div class="chart-container">
						<canvas id="chartjs-dashboard-bar2"></canvas>
						<div class="chart-loader" id="bar_2">
							<div class="skeleton-loader"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div><!-- Closing 'main' div -->{% endblock %}{% block script %}
<script>
	const header = document.getElementById('calendarHeader');
	const monthYear = document.getElementById('monthYear');

	const months = [
		'January',
		'February',
		'March',
		'April',
		'May',
		'June',
		'July',
		'August',
		'September',
		'October',
		'November',
		'December'
	];

	const currentDate = new Date();
	const currentMonth = currentDate.getMonth();
	const currentYear = currentDate.getFullYear();

	// header.style.background = getRandomColor();
	monthYear.textContent = `${months[currentMonth]
		} ${currentYear}`;

	function getRandomColor() {
		const colors = [
			/*'#dc3545',
						'#257fbc',
						'#19a2a3',
						'#2182c1',
						'#14a5bc',*/
			'url(img/photos/10.webp) no-repeat   fixed',
		];
		return colors[Math.floor(Math.random() * colors.length)];
	}</script>
<script>
	document.addEventListener("DOMContentLoaded", function () { // Select all elements with the class 'card-loading'
		var placeholder_glow = document.querySelectorAll(".placeholder");

		// Convert the NodeList to an array
		var loadingCardsArray = Array.from(placeholder_glow);
		// Show the skeleton loader
		const chartLoader_1 = document.getElementById("line_1");
		const chartLoader_2 = document.getElementById("line_2");
		const chartLoaderBar_1 = document.getElementById("bar_1");
		const chartLoaderBar_2 = document.getElementById("bar_2");
		chartLoader_1.style.display = "flex";
		chartLoader_2.style.display = "flex";
		chartLoaderBar_1.style.display = "flex";
		chartLoaderBar_2.style.display = "flex";


		createFakeChartLine1();
		createFakeChartLine2();
		createFakeChartBar1();
		createFakeChartBar2();

		get("/employee_dash", null, null, null, true).then((response) => {
			if (response.ok) {
				response.json().then((response) => { // Hide the skeleton loader
					lineChart_1(response);
					lineChart_2(response);
					barChart_1(response);
					barChart_2(response);
					chartLoader_1.style.display = "none";
					chartLoader_2.style.display = "none";
					chartLoaderBar_1.style.display = "none";
					chartLoaderBar_2.style.display = "none";


					// Check if there are any loading cards on the page
					if (loadingCardsArray.length > 0) { // Remove the 'card-loading' class from each loading card
						loadingCardsArray.forEach(function (card) {
							card.classList.remove("placeholder");

						});
					}

				});
			}
		});


	});


	function lineChart_1(response) {
		var ctx = document.getElementById("chartjs-dashboard-line").getContext("2d");
		if (window.myChartLine1) { // Destroy the existing chart instance if it exists
			window.myChartLine1.destroy();
		}
		var gradient = ctx.createLinearGradient(0, 0, 0, 225);
		// Destroy the existing chart instance if it exists
		gradient.addColorStop(0, 'rgba(255, 99, 132, 0.4)');
		gradient.addColorStop(1, 'rgba(255, 99, 132, 0.4)');
		// Line chart
		window.myChartLine1 = new Chart(document.getElementById("chartjs-dashboard-line"), {
			type: "line",
			data: {
				labels: [
					"Jan",
					"Feb",
					"Mar",
					"Apr",
					"May",
					"Jun",
					"Jul",
					"Aug",
					"Sep",
					"Oct",
					"Nov",
					"Dec"
				],
				datasets: [
					{
						label: "Sales ($)",
						fill: true,
						data: [
							2115,
							1562,
							1584,
							1892,
							1587,
							1923,
							2566,
							2448,
							2805,
							3438,
							2917,
							3327
						],

						backgroundColor: [
							'rgba(153, 102, 255, 0.4)',
							'rgba(153, 102, 255, 0.4)',
							'rgba(153, 102, 255, 0.4)',
							'rgba(153, 102, 255, 0.4)',
							'rgba(153, 102, 255, 0.4)',
							'rgba(153, 102, 255, 0.4)',
							'rgba(153, 102, 255, 0.4)',
							'rgba(153, 102, 255, 0.4)',
							'rgba(153, 102, 255, 0.4)',
							'rgba(153, 102, 255, 0.4)',
							'rgba(153, 102, 255, 0.4)',
							'rgba(153, 102, 255, 0.4)',

						],
						borderColor: [
							'rgb(153, 102, 255)',
							'rgb(153, 102, 255)',
							'rgb(153, 102, 255)',
							'rgb(153, 102, 255)',
							'rgb(153, 102, 255)',
							'rgb(153, 102, 255)',
							'rgb(153, 102, 255)',
							'rgb(153, 102, 255)',
							'rgb(153, 102, 255)',
							'rgb(153, 102, 255)',
							'rgb(153, 102, 255)',
							'rgb(153, 102, 255)',

						],
						borderWidth: 1,
						barPercentage: 1,
						categoryPercentage: 0.5
					}
				]
			},
			options: {
				maintainAspectRatio: false,
				legend: {
					display: false
				},
				tooltips: {
					intersect: false
				},
				hover: {
					intersect: true
				},
				plugins: {
					filler: {
						propagate: false
					}
				},
				scales: {
					xAxes: [
						{
							reverse: true,
							gridLines: {
								color: "rgba(0,0,0,0.0)"
							}
						}
					],
					yAxes: [
						{
							ticks: {
								stepSize: 1000
							},
							display: true,
							borderDash: [
								3, 3
							],
							gridLines: {
								color: "rgba(0,0,0,0.0)"
							}
						}
					]
				}
			}
		});
	}


	function lineChart_2(response) {
		var ctx = document.getElementById("chartjs-dashboard-line2").getContext("2d");
		if (window.myChartLine2) { // Destroy the existing chart instance if it exists
			window.myChartLine2.destroy();
		}
		var gradient = ctx.createLinearGradient(0, 0, 0, 225);
		gradient.addColorStop(0, "rgba(215, 227, 244, 1)");
		gradient.addColorStop(1, "rgba(215, 227, 244, 0)");
		// Line chart
		window.myChartLine2 = new Chart(document.getElementById("chartjs-dashboard-line2"), {
			type: "line",
			data: {
				labels: [
					"Jan",
					"Feb",
					"Mar",
					"Apr",
					"May",
					"Jun",
					"Jul",
					"Aug",
					"Sep",
					"Oct",
					"Nov",
					"Dec"
				],
				datasets: [
					{
						label: "Sales ($)",
						fill: true,
						data: [
							2115,
							1562,
							1584,
							1892,
							1587,
							1923,
							2566,
							2448,
							2805,
							3438,
							2917,
							3327
						],

						backgroundColor: [
							'rgba(75, 192, 192, 0.4)',
							'rgba(75, 192, 192, 0.4)',
							'rgba(75, 192, 192, 0.4)',
							'rgba(75, 192, 192, 0.4)',
							'rgba(75, 192, 192, 0.4)',
							'rgba(75, 192, 192, 0.4)',
							'rgba(75, 192, 192, 0.4)',
							'rgba(75, 192, 192, 0.4)',
							'rgba(75, 192, 192, 0.4)',
							'rgba(75, 192, 192, 0.4)',
							'rgba(75, 192, 192, 0.4)',
							'rgba(75, 192, 192, 0.4)',

						],
						borderColor: [
							'rgb(75, 192, 192)',
							'rgb(75, 192, 192)',
							'rgb(75, 192, 192)',
							'rgb(75, 192, 192)',
							'rgb(75, 192, 192)',
							'rgb(75, 192, 192)',
							'rgb(75, 192, 192)',
							'rgb(75, 192, 192)',
							'rgb(75, 192, 192)',
							'rgb(75, 192, 192)',
							'rgb(75, 192, 192)',
							'rgb(75, 192, 192)',

						],
						borderWidth: 1,
						barPercentage: 1,
						categoryPercentage: .5

					}
				]

			},
			options: {
				maintainAspectRatio: false,
				legend: {
					display: false
				},
				tooltips: {
					intersect: false
				},
				hover: {
					intersect: true
				},
				plugins: {
					filler: {
						propagate: false
					},
					colors: {
						enabled: true,
						forceOverride: true
					}
				},
				scales: {
					xAxes: [
						{
							reverse: true,
							gridLines: {
								color: "rgba(0,0,0,0.0)"
							}
						}
					],
					yAxes: [
						{
							ticks: {
								stepSize: 1000
							},
							display: true,
							borderDash: [
								3, 3
							],
							gridLines: {
								color: "rgba(0,0,0,0.0)"
							}
						}
					]
				}
			}
		});
	}


	function barChart_1(response) { // Bar chart
		if (window.myChartBar1) { // Destroy the existing chart instance if it exists
			window.myChartBar1.destroy();
		}
		window.myChartBar1 = new Chart(document.getElementById("chartjs-dashboard-bar"), {
			type: "bar",
			data: {
				labels: [
					"Jan",
					"Feb",
					"Mar",
					"Apr",
					"May",
					"Jun",
					"Jul",
					"Aug",
					"Sep",
					"Oct",
					"Nov",
					"Dec"
				],
				datasets: [
					{
						label: "This year",
						data: [
							54,
							67,
							41,
							55,
							62,
							45,
							55,
							73,
							60,
							76,
							48,
							79
						],
						backgroundColor: [
							'rgba(255, 99, 132, 0.4)',
							'rgba(255, 99, 132, 0.4)',
							'rgba(255, 99, 132, 0.4)',
							'rgba(255, 99, 132, 0.4)',
							'rgba(255, 99, 132, 0.4)',
							'rgba(255, 99, 132, 0.4)',
							'rgba(255, 99, 132, 0.4)',
							'rgba(255, 99, 132, 0.4)',
							'rgba(255, 99, 132, 0.4)',
							'rgba(255, 99, 132, 0.4)',
							'rgba(255, 99, 132, 0.4)',
							'rgba(255, 99, 132, 0.4)',

						],
						borderColor: [
							'rgb(255, 99, 132)',
							'rgb(255, 99, 132)',
							'rgb(255, 99, 132)',
							'rgb(255, 99, 132)',
							'rgb(255, 99, 132)',
							'rgb(255, 99, 132)',
							'rgb(255, 99, 132)',
							'rgb(255, 99, 132)',
							'rgb(255, 99, 132)',
							'rgb(255, 99, 132)',
							'rgb(255, 99, 132)',
							'rgb(255, 99, 132)',

						],
						borderWidth: 1,
						barPercentage: 1,
						categoryPercentage: .5
					}
				]
			},
			options: {
				maintainAspectRatio: false,
				legend: {
					display: false
				},
				scales: {
					yAxes: [
						{
							gridLines: {
								display: false
							},
							stacked: false,
							ticks: {
								stepSize: 20
							}
						}
					],
					xAxes: [
						{
							stacked: false,
							gridLines: {
								color: "transparent"
							}
						}
					]
				}
			}
		});
	}


	function barChart_2(response) {
		if (window.myChartBar2) { // Destroy the existing chart instance if it exists
			window.myChartBar2.destroy();
		}
		// Bar chart
		window.myChartBar2 = new Chart(document.getElementById("chartjs-dashboard-bar2"), {
			type: "bar",
			data: {
				labels: [
					"Jan",
					"Feb",
					"Mar",
					"Apr",
					"May",
					"Jun",
					"Jul",
					"Aug",
					"Sep",
					"Oct",
					"Nov",
					"Dec"
				],
				datasets: [
					{
						label: "This year",
						data: [
							54,
							67,
							41,
							55,
							62,
							45,
							55,
							73,
							60,
							76,
							48,
							79
						],

						backgroundColor: [
							'rgb(139, 0, 139, 0.4)',
							'rgb(139, 0, 139, 0.4)',
							'rgb(139, 0, 139, 0.4)',
							'rgb(139, 0, 139, 0.4)',
							'rgb(139, 0, 139, 0.4)',
							'rgb(139, 0, 139, 0.4)',
							'rgb(139, 0, 139, 0.4)',
							'rgb(139, 0, 139, 0.4)',
							'rgb(139, 0, 139, 0.4)',
							'rgb(139, 0, 139, 0.4)',
							'rgb(139, 0, 139, 0.4)',
							'rgb(139, 0, 139, 0.4)',

						],
						borderColor: [
							'rgb(139, 0, 139)',
							'rgb(139, 0, 139)',
							'rgb(139, 0, 139)',
							'rgb(139, 0, 139)',
							'rgb(139, 0, 139)',
							'rgb(139, 0, 139)',
							'rgb(139, 0, 139)',
							'rgb(139, 0, 139)',
							'rgb(139, 0, 139)',
							'rgb(139, 0, 139)',
							'rgb(139, 0, 139)',

						],
						borderWidth: 1,
						barPercentage: 1,
						categoryPercentage: .5
					}
				]
			},
			options: {
				maintainAspectRatio: false,
				legend: {
					display: false
				},
				scales: {
					yAxes: [
						{
							gridLines: {
								display: false
							},
							stacked: false,
							ticks: {
								stepSize: 20
							}
						}
					],
					xAxes: [
						{
							stacked: false,
							gridLines: {
								color: "transparent"
							}
						}
					]
				}
			}
		});
	}</script>
<script>
	document.addEventListener("DOMContentLoaded", function () { // Pie chart
		new Chart(document.getElementById("chartjs-dashboard-pie"), {
			type: "doughnut",
			data: {
				labels: [
					"مستنفذة", "متبقية"
				],
				datasets: [
					{
						data: [
							20, 10
						],
						backgroundColor: [
							'rgba(255, 159, 64, 0.4)', 'rgb(95, 158, 160, 0.4)',

						],
						borderColor: [
							'rgb(255, 159, 64)', 'rgb(95, 158, 160)',

						],
						borderWidth: 1,
						barPercentage: 1,
						categoryPercentage: .5
					}
				]
			},
			options: {
				responsive: !window.MSInputMethodContext,
				maintainAspectRatio: false,
				legend: {
					display: false
				},
				cutoutPercentage: 75
			}
		});
	});</script>
<script>
	document.addEventListener("DOMContentLoaded", function () {
		var date = new Date(Date.now() - 5 * 24 * 60 * 60 * 1000);
		var defaultDate = date.getUTCFullYear() + "-" + (
			date.getUTCMonth() + 1
		) + "-" + date.getUTCDate();
		document.getElementById("datetimepicker-dashboard").flatpickr({ inline: true, prevArrow: "<span title=\"Previous month\">&laquo;</span>", nextArrow: "<span title=\"Next month\">&raquo;</span>", defaultDate: defaultDate });
	});</script>
<script src="/app/js/fakeChart.js"></script>{% endblock %}